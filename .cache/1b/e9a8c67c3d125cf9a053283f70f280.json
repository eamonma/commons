{"id":"Focm","dependencies":[{"name":"/Users/eamonma/Documents/commons/package.json","includedInParent":true,"mtime":1562540509263}],"generated":{"js":"\"use strict\";var e={get:function(e){return\"#\"===e.charAt(0)?document.getElementById(e.substring(1,e.length)):\".\"===e.charAt(0)?document.getElementsByClassName(e.substring(1,e.length))[0]:document.getElementsByTagName(e)[0]},getS:function(e){return\"#\"===e.charAt(0)?[document.getElementById(e.substring(1,e.length))]:\".\"===e.charAt(0)?document.getElementsByClassName(e.substring(1,e.length)):document.getElementsByTagName(e)}},t=[\"Sunday\",\"Monday\",\"Tuesday\",\"Wednesday\",\"Thursday\",\"Friday\",\"Saturday\"],r=[\"January\",\"February\",\"March\",\"April\",\"May\",\"June\",\"July\",\"August\",\"September\",\"October\",\"November\",\"December\"],n={utility:{daysSince:function(e){return Math.floor(e/864e5)},dayNo:function(e){return e%2==1?1:2},weekday:function(e){return(e+4)%7},weekNo:function(e){return(e+4)%14<7?1:2},gmtToLocal:function(e){return e-60*(new Date).getTimezoneOffset()*1e3},localToGmt:function(e){return e+60*(new Date).getTimezoneOffset()*1e3},queue:function(e){var t=e.shift();return e.push(t),e},unqueue:function(e){var t=e.pop();return e.unshift(t),e},getFourthBlock:function(e,t){return 1===e?t[3]:t[7]},setCourses:function(e,t){return t=t||\"courses\",localStorage.setItem(t,JSON.stringify(e))},getCourses:function(e){return e=e||\"courses\",JSON.parse(localStorage.getItem(e))},promptCourses:function(e,t){e=e||8;for(var r=[],n=0;n<8;n++){var o=t[n].value;r.push({name:o})}return r},deleteCourses:function(e,t){e=e||\"courses\",localStorage.removeItem(e),t()},coursesToArray:function(e){if(Array.isArray(e))return e;var t=[];return e.forEach(function(e){t.push(e.name)}),t}},generate:function(e){for(var t=[],r=e.slice(0,4).slice(0,3),n=e.slice(4).slice(0,3),o=this.utility,u=r.slice(0),s=n.slice(0),a=0;a<10;a++)if(a%2==0){if(0===a){t.push(r);continue}var c=u;c=o.queue(u),t.push(c.slice(0))}else{if(1===a){t.push(n);continue}c=s;c=o.queue(s),t.push(c.slice(0))}var i=0;return t.forEach(function(t){var r=i%2==0?e[3]:e[7];i++,t.push(r)}),{weekOne:t.slice(0,5),weekTwo:t.slice(5)}}},o=n.utility;try{var u=o.getCourses()}catch(I){u=null}var s=u?o.coursesToArray(u):[1,2,3,4,5,6,7,8],a=new Date,c=a.getTime();c=o.gmtToLocal(c)+288e5;var i=a.getDate(),l=o.daysSince(c),g=o.dayNo(l),f=o.weekNo(l),m=a.getDay(),y=a.getHours(),h=y>15?\"(tomorrow)\":\"\";y>15&&(m++,g++);var v=t[m],d=a.getMonth(),p=r[d],b=a.getYear()+1900,k=v+\" \"+p+\" \"+(h?i+1:i)+\", \"+b+\" \"+h;0!=m&&6!=m||(k=\"\");var T=n.generate(s);console.log(T);try{var w=T[1===f?\"weekOne\":\"weekTwo\"][m-1]}catch(I){w=[];console.log(I)}console.log(\"rotation:\",w);var C=\"\";try{for(var N=0;N<w.length;N++)N<w.length-1?C+=w[N]+\"-\":C+=w[N]}catch(I){}var A=e.get(\"#date\"),S=e.get(\"#blockRotation\");A.innerText=k,blockRotation.innerText=C,0!=m&&6!=m||(document.getElementsByClassName(\"blocks\")[0].innerText=\"No school.\");var D=e.get(\"#customize\"),E=e.get(\".personalizeCourses\");try{D.innerText=u?\"Change courses\":\"Personalize\",D.onclick=function(){O(1)}}catch(I){}var B=function(){var t=o.getCourses();try{if(t[0])for(var r=e.get(\".set-courses-form\"),n=0;n<8;n++)r[\"block-\"+(n+1)].value=t[n]}catch(I){console.log(I)}},O=function(t){var r=e.get(\".set-courses\");B(),r.style.top=t?\"0\":\"-200%\"},z=function(){for(var t=e.get(\".set-courses-form\"),r=[],n=[],u=0;u<8;u++){var s=t[\"block-\"+(u+1)].value,a=s.charAt(0).toUpperCase()+s.substring(1,s.length);r.push(a),t[\"block-\"+(u+1)].value||n.push(u+1)}if(n[0])return alert(\"You left some blocks empty!\");o.setCourses(r),window.location.reload()};e.get(\".set-courses-form\").onsubmit=function(e){e.preventDefault(),z()},e.get(\"#cancel\").onclick=function(e){e.preventDefault(),o.getCourses()?O():alert(\"You must set courses!\")},e.get(\"#clear-all\").onclick=function(e){e.preventDefault(),confirm(\"Are you sure?\")&&o.deleteCourses(\"courses\",function(){window.location.reload()})};"},"sourceMaps":null,"error":null,"hash":"0f4639c3dd8c027c1656099f82791110","cacheData":{"env":{}}}